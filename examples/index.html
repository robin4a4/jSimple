<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="./src/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-dark.min.css">

    <title>jSimple | Examples</title>
  </head>
  <body class="bg-gray-100 text-slate-800">
    <section class="container px-16 mx-auto">
      <h1 class="text-64 font-bold text-blue-500 mt-64 w-full">
        <img src="/favicon.svg" class='w-64 h-64' alt='logo' width='64' height='64'/>
        <div class="flex w-full justify-between items-center">
          jSimple
          <a href="https://github.com/robin4a4/jSimple">
            <svg width="32.77" height="32" viewBox="0 0 256 250"><path fill="#161614" d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46c6.397 1.185 8.746-2.777 8.746-6.158c0-3.052-.12-13.135-.174-23.83c-35.61 7.742-43.124-15.103-43.124-15.103c-5.823-14.795-14.213-18.73-14.213-18.73c-11.613-7.944.876-7.78.876-7.78c12.853.902 19.621 13.19 19.621 13.19c11.417 19.568 29.945 13.911 37.249 10.64c1.149-8.272 4.466-13.92 8.127-17.116c-28.431-3.236-58.318-14.212-58.318-63.258c0-13.975 5-25.394 13.188-34.358c-1.329-3.224-5.71-16.242 1.24-33.874c0 0 10.749-3.44 35.21 13.121c10.21-2.836 21.16-4.258 32.038-4.307c10.878.049 21.837 1.47 32.066 4.307c24.431-16.56 35.165-13.12 35.165-13.12c6.967 17.63 2.584 30.65 1.255 33.873c8.207 8.964 13.173 20.383 13.173 34.358c0 49.163-29.944 59.988-58.447 63.157c4.591 3.972 8.682 11.762 8.682 23.704c0 17.126-.148 30.91-.148 35.126c0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002C256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39c-.929-.417-1.45-1.284-1.15-1.922c.276-.655 1.279-.838 2.205-.399c.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591c-.837-.892-.994-2.086-.375-2.66c.63-.566 1.787-.301 2.626.591c.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104c-.784-1.138-.784-2.503.017-3.05c.795-.547 2.058-.055 2.861 1.075c.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49c-1.119-1.032-1.43-2.496-.726-3.27c.71-.776 2.213-.558 3.315.49c1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033c-1.448-.439-2.395-1.613-2.103-2.626c.301-1.01 1.747-1.484 3.207-1.028c1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95c-1.53.034-2.769-.82-2.786-1.86c0-1.065 1.202-1.932 2.733-1.958c1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37c-1.485.271-2.861-.365-3.05-1.386c-.184-1.056.893-2.114 2.376-2.387c1.514-.263 2.868.356 3.061 1.403Z"/></svg>
          </a>
        </div>
      </h1>
      <p class="my-16 border-b border-gray-300 pb-16">
        A small <b class="text-blue-500 font-bold">experimental</b> library inspired by jQuery, Solidjs and @github/catalyst.
        <br/>It can't be used in production as it is not fully typesafe, tested and robust.
      </p>
      <h2 class="text-32 font-bold">Examples</h2>
      <article class="p-16 rounded-md shadow bg-white my-16">
        <h3 class="text-24 font-bold">Basic reactivity system</h3>
        <div class="border border-gray-200 rounded-md flex flex-col gap-16 justify-center items-center p-32 my-16">
          <button id="btn1" class="btn" type="button">
            open card
            <svg id="svg1" class="spinner hidden" viewBox="0 0 50 50">
              <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
            </svg>
          </button>
          <div id="card1" class="shadow-md border border-gray-200 rounded-md w-[300px] overflow-hidden">
            <img class="w-full h-96 object-cover" src="https://images.unsplash.com/photo-1667509183423-3dc91386c055?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2940&q=80">
            <div class="p-16 text-slate-700">
              <p class="font-bold uppercase text-14 text-slate-900">Title</p>
              Loren ipsun dolor sit anet, consectetur adipisci elit, sed eiusnod tenpor incidunt ut labore et dolore nagna aliqua. Ut enin ad ninin venian, quis nostrun exercitationen ullan corporis suscipit laboriosan.
            </div>
          </div>
        </div>
        <div class="flex flex-col md:flex-row gap-16">
          <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-javascript">import $ from "@jsimple/core";

const btn = $.select("#btn");
const card = $.select("#card");
const svg = $.select("#svg");

const [isOpen, setIsOpen] = $.signal(false);
const [isLoading, setIsLoading] = $.signal(false);

$.effect(() => {
  card.style.display = isOpen() ? "block" : "none";
  svg.classList.toggle("hidden", !isLoading());
});

btn.onClick(() => {
  setIsLoading(true);
  setTimeout(() => {
    setIsOpen(!isOpen());
    setIsLoading(false);
  }, 1000);
});</code></pre>
            <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-html"><xmp><div class="wrapper">
  <button id="btn" class="btn" type="button">
    open card
    <svg id="svg" class="spinner hidden" viewBox="0 0 50 50">
      <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
    </svg>
  </button>
  <div id="card" class="card">
    <img src="https://images.unsplash.com/photo-1667509183423-3dc91386c055?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2940&q=80">
    <div class="text">
      <p class="title">Title</p>
      Loren ipsun dolor sit anet, consectetur adipisci elit, sed eiusnod tenpor incidunt ut labore et dolore nagna aliqua. Ut enin ad ninin venian, quis nostrun exercitationen ullan corporis suscipit laboriosan.
    </div>
  </div>
</div></xmp></code></pre>
        </div>
      </article>
      <article class="p-16 rounded-md shadow bg-white my-16">
        <h3 class="text-24 font-bold">With the dom rendering package</h3>
        <div data-define="card-component" class="border border-gray-200 rounded-md flex flex-col gap-16 justify-center items-center p-32 my-16">
          <button $click="toggleCard()" :class="btn {buttonBg()}" type="button">
            open card
            <svg $display="isLoading2()" class="spinner" viewBox="0 0 50 50">
              <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
            </svg>
          </button>
          <div $display="isOpen2()" class="shadow-md border border-gray-200 rounded-md w-[300px] overflow-hidden">
            <img class="w-full h-96 object-cover" src="https://images.unsplash.com/photo-1652381791214-dbe3ee8bbb28?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2940&q=80">
            <div class="p-16 text-slate-700">
              <p class="font-bold uppercase text-14 text-slate-900">Title</p>
              Loren ipsun dolor sit anet, consectetur adipisci elit, sed eiusnod tenpor incidunt ut labore et dolore nagna aliqua. Ut enin ad ninin venian, quis nostrun exercitationen ullan corporis suscipit laboriosan.
            </div>
          </div>
        </div>
        <div class="flex flex-col md:flex-row gap-16">
          <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-javascript">import $ from "@jsimple/core";
import { run } from "@jsimple/dom-render";

function CardComponent() {
  const [isOpen, setIsOpen] = $.signal(false);
  const [isLoading, setIsLoading] = $.signal(false);
  const [buttonBg, setButtonBg] = $.signal("bg-red-500");

  const toggleCard = () => {
    setIsLoading(true);
    setButtonBg("bg-green-500");
    setTimeout(() => {
      setIsOpen(!isOpen());
      setIsLoading(false);
      setButtonBg("bg-red-500");
    }, 1000);
  };

  return {
    isOpen,
    setIsOpen,
    isLoading,
    setIsLoading,
    toggleCard,
    buttonBg,
    setButtonBg
  };
}

run([CardComponent]);</code></pre>
        <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-html"><xmp><div data-define="card-component" class="wrapper">
  <button $click="toggleCard()" :class="btn {buttonBg()}" type="button">
    open card
    <svg $display="isLoading()" class="spinner" viewBox="0 0 50 50">
      <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
    </svg>
  </button>
  <div $display="isOpen()" class="card">
    <img src="https://images.unsplash.com/photo-1667693790254-cf2fda33c8bc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3132&q=80">
    <div class="text">
      <p class="title">Title</p>
      Loren ipsun dolor sit anet, consectetur adipisci elit, sed eiusnod tenpor incidunt ut labore et dolore nagna aliqua. Ut enin ad ninin venian, quis nostrun exercitationen ullan corporis suscipit laboriosan.
    </div>
  </div>
</div></xmp></code></pre>
        </div>
      </article>
      <article class="p-16 rounded-md shadow bg-white my-16">
        <h3 class="text-24 font-bold">With the load() function</h3>
        <div data-define="component-with-data" class="border border-gray-200 rounded-md flex flex-col gap-16 justify-center items-center p-32 my-16">
          <svg $display="isLoading()" class="spinner" viewBox="0 0 50 50">
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
          </svg>
          <div $display="!isLoading()" class="shadow-md border border-gray-200 rounded-md w-[300px] overflow-hidden">
            <img class="w-full h-96 object-cover" src="https://images.unsplash.com/photo-1652381791214-dbe3ee8bbb28?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2940&q=80">
            <div class="p-16 text-slate-700">
              <p class="font-bold uppercase text-14 text-slate-900">{data()?.name}</p>
              <span>{data()?.body}</span>
            </div>
          </div>
        </div>
        <div class="flex flex-col md:flex-row gap-16">
          <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-javascript">import { GET, load } from "@jsimple/fetcher";
import { run } from "@jsimple/dom-render";

const getTodos = GET<TodoData>("https://jsonplaceholder.typicode.com/comments/1");

function ComponentWithData() {
  const { data, isLoading } = load(getTodos, ["keyString"]);
  return {
    data,
    isLoading,
  };
}
  
run([ComponentWithData]);</code></pre>
        <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-html"><xmp><div data-define="component-with-data" class="component">
  <svg $display="isLoading()" class="spinner" viewBox="0 0 50 50">
    <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
  </svg>
  <div $display="!isLoading()" class="card">
    <img src="https://images.unsplash.com/photo-1652381791214-dbe3ee8bbb28?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2940&q=80">
    <div class="text">
      <p class="font-bold uppercase text-14 text-slate-900">{data()?.name}</p>
      <span>{data()?.body}</span>
    </div>
  </div>
</div></xmp></code></pre>
        </div>
      </article>
      <article class="p-16 rounded-md shadow bg-white my-16">
        <h3 class="text-24 font-bold">With custom elements</h3>
        <fancy-toggle></fancy-toggle>
        <div class="flex flex-col md:flex-row gap-16">
          <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-javascript">import { define, s, callback } from "@jsimple/custom-element";

@define("fancy-toggle")
export class FancyToggle extends HTMLElement {
  @s(false) isOpenSignal: TSignal<boolean>;
  @s(false) isLoadingSignal: TSignal<boolean>;
  isOpen: typeof this.isOpenSignal[0];
  setIsOpen: typeof this.isOpenSignal[1];
  isLoading: typeof this.isLoadingSignal[0];
  setIsLoading: typeof this.isLoadingSignal[1];

  @callback
  toggleCard() {
    this.setIsLoading(true);
    setTimeout(() => {
      this.setIsOpen(!this.isOpen());
      this.setIsLoading(false);
    }, 1000);
  }

  connectedCallback() {
    this.html(`<xmp>
      <div class="wrapper">
        <button $click="toggleCard()" class="btn" type="button">
          open card
          <svg $display="isLoading()" class="spinner" viewBox="0 0 50 50">
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
          </svg>
        </button>
        <div $display="isOpen()" class="card">
          <img src="https://images.unsplash.com/photo-1667693790254-cf2fda33c8bc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3132&q=80">
          <div class="text">
            <p class="title">Title</p>
            Loren ipsun dolor sit anet, consectetur adipisci elit, sed eiusnod tenpor incidunt ut labore et dolore nagna aliqua. Ut enin ad ninin venian, quis nostrun exercitationen ullan corporis suscipit laboriosan.
          </div>
        </div>
      </div>
    </xmp>`);
  }
}</code></pre>
          <pre class="flex-1 md:max-w-[50%]"><code class="rounded-md language-html"><xmp><fancy-toggle></fancy-toggle></xmp></code></pre>
        </div>
      </article>
    </section>
    <script type="module" src="/src/main.ts"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  </body>
</html>
